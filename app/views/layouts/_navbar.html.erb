<nav class="navbar bg-body-tertiary fixed-top main-background">
  <div class="container-fluid">
    <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Menu</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      
      <div class="offcanvas-body d-flex flex-column">
        <div class="mb-3">
          <div class="text-uppercase text-muted small fw-semibold mb-2">Navegação</div>

          <div class="list-group list-group-flush">
            <%= link_to root_path, class: nav_item_class(root_path) do %>
              <i class="bi bi-house-door fs-5 nav-icon"></i>
              <span class="fw-semibold">Página Inicial</span>
            <% end %>

            <%= link_to totals_path, class: nav_item_class(totals_path) do %>
              <i class="bi bi-speedometer2 fs-5 nav-icon"></i>
              <span class="fw-semibold">Detalhamento</span>
            <% end %>

            <%= link_to transactions_path, class: nav_item_class(transactions_path) do %>
              <i class="bi bi-receipt fs-5 nav-icon"></i>
              <span class="fw-semibold">Despesas</span>
            <% end %>

            <%= link_to cards_path, class: nav_item_class(cards_path) do %>
              <i class="bi bi-credit-card fs-5 nav-icon"></i>
              <span class="fw-semibold">Cartões</span>
            <% end %>

            <%= link_to categories_path, class: nav_item_class(categories_path) do %>
              <i class="bi bi-tags fs-5 nav-icon"></i>
              <span class="fw-semibold">Categorias</span>
            <% end %>

            <%= link_to merchant_aliases_path, class: nav_item_class(merchant_aliases_path) do %>
              <i class="bi bi-shop fs-5 nav-icon"></i>
              <span class="fw-semibold">Aliases de Comerciantes</span>
            <% end %>

            <%= link_to classification_suggestions_path,
              class: "#{nav_item_class(classification_suggestions_path)} nav-suggestions #{'has-pending' if @pending_suggestions_count.to_i > 0}" do %>

              <i class="bi bi-lightbulb fs-5 nav-icon"></i>
              <span class="fw-semibold">Sugestões</span>

              <% if @pending_suggestions_count.to_i > 0 %>
                <span class="badge bg-danger rounded-pill ms-auto">
                  <%= @pending_suggestions_count %>
                </span>
              <% else %>
                <span class="badge bg-secondary-subtle text-secondary rounded-pill ms-auto">
                  0
                </span>
              <% end %>
            <% end %>
          </div>
        </div>

        <div class="mt-auto pt-3 border-top">
          <div class="input-group">
            <span class="input-group-text bg-body"><i class="bi bi-search"></i></span>
            <input class="form-control" type="search" placeholder="Buscar (em breve)" aria-label="Search" disabled>
            <button class="btn btn-outline-secondary" type="button" disabled>Buscar</button>
          </div>

          <div class="d-flex gap-2 mt-3">
            <%= link_to edit_user_registration_path, class: "btn btn-outline-secondary w-100" do %>
              <i class="bi bi-gear"></i> Conta
            <% end %>

            <%= button_to destroy_user_session_path, method: :delete, class: "btn btn-outline-danger w-100" do %>
              <i class="bi bi-box-arrow-right"></i> Sair
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</nav>